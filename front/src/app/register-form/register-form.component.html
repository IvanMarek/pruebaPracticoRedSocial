<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <h2>Registrar Usuario</h2>

  <div>
    <label for="email">E-mail:</label>
    <input type="email" formControlName="email" maxlength="60"  placeholder="Ingrese su correo electrónico"/>
    <div *ngIf="registerForm.get('email')?.hasError('maxlength') && registerForm.get('email')?.touched" class="error-message">
      <mat-icon class="red-icon">error</mat-icon>
      <small class="error">El correo electrónico no puede tener más de 60 caracteres.</small>
    </div>
    <!-- Mensaje de error si el email está vacío -->
    <div *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched" class="error-message">
      <mat-icon class="red-icon">error</mat-icon>
      <small class="error">El correo electrónico es obligatorio.</small>
    </div>

    <!-- Mensaje de error si el email no es válido -->
    <div *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched" class="error-message">
      <mat-icon class="red-icon">error</mat-icon>
      <small class="error">El correo electrónico no es válido.</small>
    </div>

    <!-- Mensaje de error si el email ya existe -->
    <div *ngIf="registerForm.get('email')?.hasError('emailExists') && registerForm.get('email')?.touched" class="error-message">
      <mat-icon class="red-icon">error</mat-icon>
      <small class="error">Este correo ya está registrado.</small>
    </div>
  </div>
  <div *ngIf="registerForm.get('email')?.hasError('maxlength') && registerForm.get('email')?.touched" class="error-message">
    <mat-icon class="red-icon">error</mat-icon>
    <small class="error">El correo electrónico no puede tener más de 60 caracteres.</small>
  </div>

  

  <div>
    <label for="username">Usuario:</label>
    <input id="username" formControlName="username" required placeholder="Ingrese su nombre de usuario"/>
  </div>

  <div>
    <label for="password">Contraseña:</label>
    <input id="password" type="password" formControlName="password" required placeholder="Ingrese su contraseña" />
  </div>

  <div>
    <label for="confirmPassword">Confirmar Contraseña:</label>
    <input id="confirmPassword" type="password" formControlName="confirmPassword" required  placeholder= "Confirme su contraseña"/>
    <div *ngIf="registerForm.value.password !== registerForm.value.confirmPassword">
      <small>Las contraseñas no coinciden.</small>
    </div>
    <div *ngIf="registerForm.get('password')?.hasError('passwordStrength') && registerForm.get('password')?.touched" class="error-message">
      <mat-icon class="red-icon">error</mat-icon>
      <small class="error">La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial.</small>
    </div>
  </div>

  <!-- Mensaje de error si hay campos no completos -->
  <div *ngIf="!registerForm.valid && registerForm.touched" class="error-message">
    <mat-icon class="red-icon">error</mat-icon>
    <small class="error">Por favor complete todos los campos obligatorios.</small>
  </div>

  <button type="submit" [disabled]="registerForm.invalid">Registrar</button>
  <button type="button" (click)="navegar()">Iniciar Sesión</button>
</form>
